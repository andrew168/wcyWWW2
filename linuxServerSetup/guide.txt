1) 确认关闭无管的服务和应用，例如：
  mysql (改用mongod）
  httpd (它占用80口）
  varnish (它占用80口）
  redis???

  $chkconfig --list
  $chkconfig httpd off

2） 确认不自动启动下面的服务，例如：
  mongod
  node
  nodesvr

3) 把sh_script目录下的脚步复制到 linux服务器的/data/shell/目录下

(注意：这两个文件，以及下面这些属于system或per-user的shell启动文件中，都不能输入输出信息：
.bashrc, .profile, /etc/csh.cshrc, .login, etc.
 否则，污染protocol，导致下面的错误：
 * ssh的sftp连不上,不能使用，
 * -bash: /dev/null: Permission denied）
（例如: 在 statrt_udoido.sh中,使用 命令"node -v", 显示node的版本）

(echo 似乎可以）

因为SSH登录系统是非交互的，其中的任何输入输出都会污染protocol，导致sftp不能使用。
可是在SSH登录时，系统又要执行.bashrc文件，它往往引用./etc/bashrc, 并进一步引用
/etc/profile.d/下面的所有.sh命令 (见bash联机手册)

其它的解决办法：在.bashrc文件中，测试一下是交互SHELL还是非交互的，如果是非交互的，则直接退出即可。
一般在.bashrc文件的最前边加入下面这行就可以了：
[ -z "$PS1" ] && return （经测试通过，在Centos 5上）
或者：
[ $- != *i* ] && return

Q: 如果出现错误： “-bash: /dev/null: Permission denied”
A：用这个命令消除：
 #rm -f /dev/null; mknod -m 666 /dev/null c 1 3

因为"/dev/null"属性应该是crw-rw-rw-, 可能是由于前述sh错误导致其属性或内容的被修改了，删除它， 重建一个，
（需要用root账号）

（https://unix.stackexchange.com/questions/146633/bash-dev-null-permission-denied）

4) 编辑root用户的定时任务， 内容与文件crontab_setting.txt 一致
   $crontab -e


5）确保下面的目录人人可以读写：
  /data/wwwz/card2
  /data/wcydepot  （数据库）
  /logs/udoido

6) 提高Node服务器的效率：1 启用production模式
如果使用Linux的init system 中的Upstart，如下：
# /etc/init/env.conf
 env NODE_ENV=production

如果使用Linux的init system 中的systemd, 如下：
# /etc/systemd/system/myservice.service
Environment=NODE_ENV=production

备注： 在开发的时候， 效率要求低，也可以用interactive shell，例如export 或.bash_profile


/////////////////////////////////////////
其它:
2017.1.7： mongoDb漏洞修改
https://help.aliyun.com/knowledge_detail/37451.html
